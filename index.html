<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=1000">
    <title>Unity WebGL Player | Key manager</title>
    <link rel="manifest" href="manifest.json">
    <script async src="https://cdn.jsdelivr.net/npm/pwacompat@2.0.9/pwacompat.min.js" integrity="sha384-VcI6S+HIsE80FVM1jgbd6WDFhzKYA0PecD/LcIyMQpT4fMJdijBh0I7Iblaacawc" crossorigin="anonymous"></script>
    <link rel="shortcut icon" href="picture/key48.png">
    <link rel="stylesheet" href="TemplateData/style.css">
    <script src="TemplateData/UnityProgress.js"></script>
    <script src="Build/UnityLoader.js"></script>
    <script>
        UnityLoader.SystemInfo.mobile = false;
        window.addEventListener("orientationchange", function() {
            var metalist = document.getElementsByTagName('meta');
            for (var i = 0; i < metalist.length; i++) {
                var name = metalist[i].getAttribute('name');
                if (name && name.toLowerCase() === 'viewport') {
                    metalist[i].setAttribute('content', 'width=1000,initial-scale=' + (screen.width / 1000));
                    break;
                }
            }
        })
        UnityLoader.instantiate("unityContainer", "Build/build.json");
    </script>
</head>

<body>
    <div class="webgl-content">
        <div id="unityContainer" style="width: 960px; height: 600px"></div>
        <div class="footer">
            <div class="webgl-logo"></div>
            <div class="fullscreen" onclick="unityInstance.SetFullscreen(1)"></div>
            <div class="title">Key manager</div>
        </div>
    </div>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('https://kumachan0210.github.io/Key_management/sw.js').then(function(registration) {
                    console.log('serviceWorker registed.', registration.scope);
                    registration.onupdatefound = function() {
                        registration.update();
                        console.log('serviceWorker update.');
                    }
                }, function(err) {
                    console.log('serviceWorker error.', err);
                });
            });
        }
    </script>
</body>

</html>